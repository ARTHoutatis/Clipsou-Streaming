:root {
    --bg-1: #0b1117;
    --bg-2: #0e141b;
    --brand-1: #2B22EE;
    --brand-2: #6c5ce7;
}

/* Ultra-small phones: tighten navbar further (moved to common.css) */
@media (max-width: 360px) {
  .nav-links .search-link { width: 40px; height: 40px; }
}

/* Extra-narrow phones: force-hide Partenariats title */
@media (max-width: 600px) {
  #partenariats-title { display: none !important; }
}

/* Ensure no parent color overrides the gradient fill */
#film7 .fiche-right #film7-title .urbanos-grad {
    -webkit-background-clip: text !important;
    background-clip: text !important;
    color: transparent !important;
    -webkit-text-fill-color: transparent !important;
}

/* box-sizing reset moved to common.css */

body {
    margin: 0;
    background: linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
    min-height: 100vh;
    color: #fff;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    -webkit-tap-highlight-color: transparent;
}

/* ===== Side Menu & Hamburger ===== */
/* Prevent scroll when menu open */
body.menu-open { overflow: hidden; }

/* Hamburger button styles are centralized in common.css */

/* Side menu, headers, links and overlay are centralized in common.css */

/* .sr-only moved to common.css */

/* Popup scroll lock moved to common.css */

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: none;
    pointer-events: none;
    z-index: -1;
}

/* Navbar grid layout is centralized in common.css */

/* .logo styles are centralized in common.css to keep title identical across pages */

.nav-links { display: flex; gap: 15px; }
.nav-links a { padding: 10px 20px; border-radius: 5px; font-weight: 600; color: #fff; text-decoration: none; transition: all .3s ease; white-space: nowrap; }

.discord-link { background: #2B22EE; }
.discord-link:hover { background: #241DE0; }

.yt-link { background: #FF0000; display: none !important; }
.yt-link:hover { background: #CC0000; }

/* Partenariat button in navbar */
.partner-link { background: #16a34a; }
.partner-link:hover { background: #15803d; }

.search-link { background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.2); }
.search-link:hover { background: rgba(255,255,255,.2); }

/* Desktop/tablet: show loupe.png before the text */
.nav-links .search-link { display: inline-flex; align-items: center; gap: 8px; position: relative; }
.nav-links .search-link::before {
    content: '';
    display: inline-block;
    width: 20px;
    height: 20px;
    background: url('loupe.png') no-repeat center / contain;
    filter: none !important;
    opacity: 1 !important;
}

/* Carousel */
.carousel-section { margin: 0 0 60px; overflow: hidden; }

.carousel-container {
    position: relative;
    width: 100%;
    height: auto;
    aspect-ratio: 2.25 / 1;
    min-height: 400px;
    overflow: hidden; /* prevent any overflow on all devices */
}

.carousel-slides { display: flex; width: 500%; height: 100%; animation: carousel-auto 25s infinite; margin: 0; padding: 0; gap: 0; will-change: transform; transition: transform .6s ease; }

/* Manual navigation: stop auto animation when user interacts */
.carousel-slides.manual { animation: none !important; }

@keyframes carousel-auto {
    0%, 18% { transform: translateX(0); }
    20%, 38% { transform: translateX(-20%); }
    40%, 58% { transform: translateX(-40%); }
    60%, 78% { transform: translateX(-60%); }
    80%, 98% { transform: translateX(-80%); }
    100% { transform: translateX(0); }
}

.carousel-slide {
    flex: 0 0 20%; /* Chaque slide = 20% de la largeur totale */
    min-width: 20%;
    margin: 0;
    position: relative;
    background-size: cover;
    background-position: top center;
    background-repeat: no-repeat;
    aspect-ratio: 2.26 / 1;
    transform: translateZ(0); /* GPU compositing */
}

/* Image interne insérée par JS: effet de zoom subtil lorsque la slide est active */
.carousel-slide > img {
    transform: scale(1);
    transition: transform 10s linear;
}
.carousel-slide.active > img {
    transform: scale(1.03);
}

.carousel-slide.alex-focus {
    /* Responsive vertical focus using percentage for desktop/tablet */
    background-position: center 12%;
}

.carousel-slide::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.80) 0%,
        rgba(0, 0, 0, 0.60) 40%,
        rgba(0, 0, 0, 0.20) 100%
    );
    z-index: 1;
}

.carousel-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 40px;
    z-index: 2;
    background: linear-gradient(
        180deg,
        transparent 0%,
        rgba(0, 0, 0, 0.15) 30%,
        rgba(0, 0, 0, 0.35) 100%
    );
}

.carousel-title { font-size: 2.5rem; font-weight: 700; color: #fff; margin: 0 0 15px; text-shadow: none; }

.carousel-description { font-size: 1.1rem; color: rgba(255,255,255,.9); line-height: 1.5; margin: 0 0 20px; max-width: 600px; text-shadow: none; }

.carousel-genres { display: flex; gap: 10px; margin: 15px 0 20px; flex-wrap: wrap; align-items: center; }

.carousel-genre-tag { background: rgba(255,255,255,.06); color: #e6eef5; padding: 6px 14px; border-radius: 20px; font-size: .85rem; font-weight: 600; border: 1px solid rgba(255,255,255,.12); backdrop-filter: none; }

/* Inline rating in carousel, placed before genre tags */
.carousel-genres .carousel-rating {
    display: inline-flex;
    align-items: center;
    font-size: 1.3rem; /* slightly larger for better emphasis */
    line-height: 1; /* tight to avoid misalignment */
    font-weight: 600; /* lighter like popup */
    color: #ffffff; /* keep numbers white for readability */
    margin-right: 8px;
}
.carousel-genres .carousel-rating .star {
    color: #FFD54A; /* yellow star */
    margin-right: 4px;
}

.carousel-btn { display: inline-flex; align-items: center; gap: 8px; background: #2B22EE; color: #fff; padding: 12px 24px; border-radius: 5px; text-decoration: none; font-weight: 600; font-size: .95rem; transition: all .3s ease; backdrop-filter: none; border: 1px solid #2B22EE; }

.carousel-btn:hover { background: #241DE0; transform: translateY(-1px); box-shadow: none; }

.carousel-btn::before {
    content: 'ⓘ';
    font-size: 1rem;
}

.carousel-btn:hover {
    background: linear-gradient(135deg, var(--brand-1), var(--brand-2)) !important;
    color: #fff !important;
    filter: none !important;
}

/* Indicateurs de slides */
.carousel-indicators {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 12px;
    z-index: 3;
    pointer-events: auto; /* enable pointer events on mobile */
}

.carousel-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.4);
    cursor: pointer;
    transition: all 0.3s ease;
    animation: indicator-cycle 25s infinite;
    border: none; /* in case indicators are buttons in the future */
}

/* When navigating manually, stop indicator animation and show active state */
.carousel-indicators.manual .carousel-indicator { animation: none !important; }
.carousel-indicator.active { background: #2B22EE; transform: scale(1.3); }

.carousel-indicator:nth-child(1) { animation-delay: 0s; }
.carousel-indicator:nth-child(2) { animation-delay: 5s; }
.carousel-indicator:nth-child(3) { animation-delay: 10s; }
.carousel-indicator:nth-child(4) { animation-delay: 15s; }
.carousel-indicator:nth-child(5) { animation-delay: 20s; }

@keyframes indicator-cycle {
    0%, 16% { 
        background: #2B22EE;
        transform: scale(1.3);
    }
    20%, 100% { 
        background: rgba(255, 255, 255, 0.4);
        transform: scale(1);
    }
}

/* Sections */
.section { margin: 50px 0; }

.section h2 { margin: 0 40px 30px; font-size: 32px; font-weight: 700; color: #ffffff; display: inline-block; padding-bottom: 0; border: none; }

/* Grille */
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 24px; padding: 0 40px; }

/* Cartes */
.card {
    background: rgba(26,35,50,0.8);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.12);
    cursor: pointer;
    position: relative; /* enable overlay watermark */
}

.card:hover { 
    transform: scale(1.03);
    border-color: #2B22EE;
    box-shadow: none;
}

.card img { 
    width: 100%; 
    aspect-ratio: 9/12; 
    object-fit: cover; 
    transition: transform 0.3s ease;
}

.card:hover img {
    transform: none;
}

/* Hide film title text on index cards as requested */
.card .card-info span { display: none; }

.stars { 
    color: #2B22EE; 
    font-size: 16px; 
}

/* Base link styles are defined in common.css */

/* Popup base layout moved to common.css */

/* Per-title font styles */
#film2-title { font-family: inherit; font-size: inherit; }


/* ===== Specific color treatments ===== */
/* La vie au petit âge: dark red with shadow */
#film1-title {
    color: #8B0000; /* dark red */
    text-shadow: 0 2px 0 rgba(0,0,0,0.35), 0 4px 12px rgba(0,0,0,0.5);
}
/* Lawless Legend: darker red */
#serie2-title { color: #6E0000; }
/* DEDOUBLEMENT: bluish drop shadow (no outline) */
#film2-title {
    color: #ffffff; /* white */
    font-weight: 800; /* bold */
    font-size: 34px; /* larger */
    text-transform: uppercase;
    /* Soft, bluish shadow inspired by the reference */
    text-shadow:
      0 8px 18px rgba(11, 61, 145, 0.55),  /* main soft drop */
      0 2px 4px rgba(11, 61, 145, 0.45),   /* near shadow */
      0 0 14px rgba(11, 61, 145, 0.30);    /* ambient glow */
}

/* Make all popup titles large and consistent like DEDOUBLEMENT */
#film1-title,
#film2-title,
#film3-title,
#film4-title,
#film5-title,
#film6-title,
#serie1-title,
#serie2-title {
    font-size: clamp(28px, 5vw, 40px);
    line-height: 1.1;
    display: inline-block;
    min-width: 12ch; /* approx width of 'DEDOUBLEMENT' */
    text-align: left;
}
/* Ensure nested spans inherit unified size */
#film6-title .urbanos,
#film6-title .city,
#film5-title .trailer-word,
#film5-title .batman-word,
#serie1-title .al,
#serie1-title .ex { font-size: 1em; }

/* Alex: AL green, EX pink */
#serie1-title .al { color: #9CFF00; }
#serie1-title .ex { color: #ff69b4; }
/* Trailer Batman: 'Trailer' white, 'Batman' red */
#film5-title .trailer-word { color: #ffffff; }
#film5-title .batman-word { color: #ff2a2a; font-weight: 800; }

/* Card title styles removed per request */

/* Popup inner typographic styles moved to common.css */

/* Popup buttons and groups moved to common.css */

/* Style pour empêcher le scroll vers le haut lors de la fermeture */
html {
    scroll-behavior: auto; /* disable smooth to avoid animated jump after closing popup */
}

/* Mobile popup rules moved to common.css; keep other mobile layout rules below intact */

/* Neutralize system dark mode: keep site appearance unchanged in dark mode */
@media (prefers-color-scheme: dark) {
    :root { color-scheme: light; }
}

/* Amélioration des performances */
@media (prefers-reduced-motion: reduce) {
    .carousel-slides {
        animation: none;
    }
    
    .carousel-indicator {
        animation: none;
    }
    
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Footer */
.footer {
    margin-top: 60px;
    padding: 32px 40px;
    background: #0E141B;
    color: #8fa3b8;
    border-top: 1px solid rgba(255,255,255,0.16); /* thin white delimiter */
}
.footer .footer-inner {
    max-width: 1280px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
    align-items: center;     /* vertical alignment of rows */
    justify-items: center;   /* horizontal centering of each row */
    text-align: center;      /* ensure text centers within */
}
.footer .footer-actions { display: none; }
.footer a { color: #c8d4e0; text-decoration: none; }
.footer a:hover { color: #fff; }

/* Footer inline text layout */
.footer .footer-text {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
    justify-content: center;
    text-align: center;
}
.footer .footer-text span { white-space: nowrap; }
.footer .footer-text .footer-sep { opacity: 0.7; margin: 0 6px; }

/* Footer compact buttons row */
.footer .footer-actions.footer-actions--mini {
    display: flex;              /* overrides the hidden default */
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
}
.footer .btn-mini {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-size: 12px;
    line-height: 1;
    padding: 8px 10px;
    border-radius: 6px;
    color: #c8d4e0;
    text-decoration: none;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.12);
    transition: background .2s ease, border-color .2s ease, color .2s ease, transform .15s ease;
}
.footer .btn-mini.btn-icon { 
    padding: 0; 
    background: transparent; 
    border: none; 
    line-height: 0;            /* tighter vertical alignment */
    display: inline-flex;      /* ensure proper centering */
    align-items: center;
    justify-content: center;
}
.footer .btn-mini.btn-icon svg { width: 32px; height: 32px; display: block; }
/* Support image-based icons too (preserve aspect ratio) */
.footer .btn-mini.btn-icon img {
    display: block;
    max-width: 32px;
    max-height: 32px;
    width: auto;
    height: auto;
    object-fit: contain;
}
/* Support Font Awesome <i> icons */
.footer .btn-mini.btn-icon i {
    font-size: 24px; /* default size: match Discord */
    line-height: 1;
    display: block;
}
.footer .btn-mini.btn-icon:hover { 
    background: transparent; 
    border-color: transparent; 
    transform: none; 
    color: #ffffff; 
}
/* Slightly larger Discord icon vs YouTube */
/* Discord icon sizing (preserve proportions) */
.footer .btn-mini.icon-discord svg { width: 24px; height: 24px; }
.footer .btn-mini.icon-discord img {
    max-width: 24px;
    max-height: 24px;
    width: auto;
    height: auto;
    object-fit: contain;
}
.footer .btn-mini.icon-discord i { font-size: 24px; }
/* YouTube base size (match Discord 24x24) */
.footer .btn-mini.icon-youtube svg { width: 24px; height: 24px; }
.footer .btn-mini.icon-youtube img {
    max-width: 24px;
    max-height: 24px;
    width: auto;
    height: auto;
    object-fit: contain;
}
.footer .btn-mini.icon-youtube i { font-size: 24px; }
.footer .btn-mini:hover {
    background: rgba(255,255,255,0.08);
    border-color: rgba(255,255,255,0.2);
    color: #ffffff;
}
.footer .btn-mini:active { transform: translateY(0); }

/* Header extras (menu, search, avatar) */
.search { display: none; }

/* Small Discord button to replace avatar */
.discord-mini { display: none; width: 36px; height: 36px; border-radius: 50%; background: #5865F2; border: 1px solid rgba(255,255,255,0.18); color: #fff; font-weight: 800; align-items: center; justify-content: center; text-decoration: none; }
.discord-mini:hover { filter: brightness(0.95); }
/* Desktop: show full nav (links + search), keep only one external button */
@media (min-width: 900px) {
  .nav-links { display: flex; }
  .search { display: none; }
  .discord-mini { display: none; }
}
/* Ensure any yt link in nav stays hidden if present */
nav[aria-label="Navigation principale"] .yt-link { display: none !important; }

/* Rails (rows like Netflix) */
/* Base layout for all viewports (keeps cards correctly sized on mobile) */
.rail {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: clamp(180px, 18vw, 240px);
    gap: 18px;
    overflow-x: auto;
    overflow-y: visible; /* allow hover lift without clipping */
    overscroll-behavior-x: contain;
}
/* Desktop-only: add side paddings + enable snapping */
@media (min-width: 769px) {
  .rail {
      padding: 0 40px;
      scroll-snap-type: inline mandatory; /* enable snapping on desktop only */
  }
}
.rail::-webkit-scrollbar { height: 10px; }
.rail::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.12); border-radius: 8px; }
@media (min-width: 769px) {
  .rail > .card { scroll-snap-align: start; }
  }

  /* Global scrollbar styles provided by common.css */

  /* Card hover actions */
  .card { position: relative; }
  .card-actions {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    background: linear-gradient(180deg, rgba(0,0,0,0) 20%, rgba(0,0,0,0.5) 60%, rgba(0,0,0,0.75) 100%);
    opacity: 0;
    transition: opacity .25s ease;
}
.card:hover .card-actions { opacity: 1; }
.carousel-arrow:focus { outline: 2px solid #2B22EE; outline-offset: 2px; }
.carousel-arrow:hover { background: rgba(0,0,0,0.7); transform: translateY(-1px); }
.carousel-arrow svg { width: 24px; height: 24px; display: block; }
.quick-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    background: #2B22EE;
    border: 1px solid #2B22EE;
    color: #fff;
    padding: 10px 14px;
    }
    /* Ensure any yt link in nav stays hidden if present */
    nav[aria-label="Navigation principale"] .yt-link { display: none !important; }

     /* Subtle animated gradient background */
     body {
         background: radial-gradient(1200px 600px at 10% -10%, rgba(43,34,238,0.18), transparent 60%),
                     radial-gradient(1000px 700px at 100% 10%, rgba(108,92,231,0.18), transparent 60%),
                     linear-gradient(180deg, var(--bg-2), var(--bg-1));
     }
     
     /* ===== Visual Enhancements (Index) ===== */
    /* Section titles: plain white, no underline */
    .section h2 {
        border: none;
        color: #ffffff;
    }

    /* Card polish */
    .card {
        background: linear-gradient(180deg, rgba(26,35,50,0.65), rgba(26,35,50,0.9));
        box-shadow:
          0 10px 30px rgba(0,0,0,0.35),
          inset 0 1px 0 rgba(255,255,255,0.06);
    }
    .card:hover {
        transform: translateY(-6px);
        box-shadow: 0 14px 38px rgba(0,0,0,0.45);
    }
    .card img { will-change: transform; }

     /* Buttons */
     .carousel-btn,
     .quick-btn,
     .button {
         background: linear-gradient(135deg, var(--brand-1), var(--brand-2));
         border: 1px solid rgba(255,255,255,0.14);
         box-shadow: 0 10px 20px rgba(43,34,238,0.25), inset 0 1px 0 rgba(255,255,255,0.12);
     }
     .carousel-btn:hover,
     .quick-btn:hover,
     .button:hover {
         filter: brightness(0.95);
         transform: translateY(-1px);
     }

     /* Keep partenariat button green even when using .button styles */
     .button.partner-link {
         background: #16a34a !important;
         border: 1px solid rgba(255,255,255,0.14);
         box-shadow: 0 10px 20px rgba(22,163,74,0.25), inset 0 1px 0 rgba(255,255,255,0.12);
     }
     .button.partner-link:hover {
         background: #15803d !important;
         filter: brightness(0.98);
     }

     /* Discord footer button (blue) */
     .button.discord-btn {
         background: #5865F2 !important; /* Discord brand */
         border: 1px solid rgba(255,255,255,0.14);
         box-shadow: 0 10px 20px rgba(88,101,242,0.25), inset 0 1px 0 rgba(255,255,255,0.12);
     }
     .button.discord-btn:hover {
         background: #4752C4 !important;
         filter: brightness(0.98);
     }
     .button.discord-btn svg {
         width: 35px;
         height: 35px;
         display: inline-block;
         vertical-align: middle;
     }

     /* YouTube footer button (red) */
     .button.youtube-btn {
         background: #FF0000 !important; /* YouTube brand */
         border: 1px solid rgba(255,255,255,0.14);
         box-shadow: 0 10px 20px rgba(255,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.12);
     }
     .button.youtube-btn:hover {
         background: #CC0000 !important;
         filter: brightness(0.98);
     }
     .button.youtube-btn svg {
         width: 30px;
         height: 30px;
         display: inline-block;
         vertical-align: middle;
         position: relative;
         top: -2px; /* slightly up */
     }

     /* Footer buttons aligned to the right while keeping original layout */
     .footer .footer-inner > div:nth-child(2) { text-align: right; }
     .footer .footer-inner > div:nth-child(2) > span { float: left; }
     .footer .footer-inner > div:nth-child(2)::after { content: ""; display: table; clear: both; }

     /* Prevent cards from being clipped on hover translateY in all sections */
    .section .rail { padding-top: 10px; }

     /* Focus-visible ring */
     :where(a, button, .quick-btn, input, [tabindex]):focus-visible {
         outline: 2px solid rgba(99,102,241,0.9);
         outline-offset: 2px;
         box-shadow: 0 0 0 6px rgba(99,102,241,0.25);
     }

     /* Smoother transitions */
    * { transition: background-color .25s ease, color .25s ease, border-color .25s ease, transform .25s ease, box-shadow .25s ease; }

    /* Category label via data-type attribute for new genre sections */
    .card .card-info::before { margin-right: 8px; }
    .card .card-info[data-type="film"]::before { content: "Film"; }
    .card .card-info[data-type="serie"]::before { content: "Série"; }
    .card .card-info[data-type="trailer"]::before { content: "Trailer"; }

    /* Improve legibility for 'Trailer' in film5 title: keep lowercase and use a font with distinct 'i' dot */
    #film5-title .trailer-word {
        text-transform: none !important;
        font-family: Verdana, Tahoma, "Segoe UI", Arial, sans-serif;
        letter-spacing: 0.3px;
    }

